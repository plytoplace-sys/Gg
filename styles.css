:root{
  --w: min(92vw, 540px);
  --h: calc(var(--w) * 16 / 9);
  --glass: rgba(12, 14, 20, 0.55);
  --glass2: rgba(12, 14, 20, 0.35);
  --stroke: rgba(255,255,255,0.12);
  --text: rgba(255,255,255,0.92);
}
*{ box-sizing:border-box; }
html,body{ height:100%; }
body{ margin:0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; color: var(--text); background:#070810; }
.app{ min-height:100%; display:flex; flex-direction:column; align-items:center; gap:14px; padding:14px 12px 18px; }
.bg{ position:fixed; inset:0; z-index:-2; }
.bg-city{ position:absolute; inset:0;
  background:
    radial-gradient(1200px 800px at 50% 15%, rgba(66,105,255,0.25), transparent 55%),
    radial-gradient(900px 700px at 20% 55%, rgba(255,80,190,0.18), transparent 60%),
    radial-gradient(800px 600px at 80% 55%, rgba(255,170,60,0.16), transparent 60%),
    linear-gradient(180deg, #060713 0%, #05050b 60%, #060713 100%);
}
.bg-vignette{ position:absolute; inset:-40px; background: radial-gradient(closest-side at 50% 40%, transparent 55%, rgba(0,0,0,0.55) 100%); }

.stage{
  width: var(--w);
  height: var(--h);
  position:relative;
  border-radius: 26px;
  overflow:hidden;
  box-shadow: 0 18px 60px rgba(0,0,0,0.55);
  border: 1px solid rgba(255,255,255,0.08);
  background: #0b0c14;
}
#game{ width:100%; height:100%; display:block; }

.hud{ position:absolute; inset:0; padding: 12px 12px 14px; display:flex; flex-direction:column; justify-content:space-between; pointer-events:none; }
.hud-top{ display:flex; justify-content:space-between; gap:12px; align-items:flex-start; }
.badge{ background: var(--glass); border: 1px solid var(--stroke); border-radius: 16px; padding: 10px 12px; backdrop-filter: blur(10px); box-shadow: 0 10px 22px rgba(0,0,0,0.35); }
.badge-title{ font-weight:850; letter-spacing:0.8px; font-size:12px; }
.badge-sub{ font-size:11px; opacity:0.75; margin-top:2px; }
.stats{ display:flex; gap:10px; }
.stat{ width:78px; text-align:center; background: var(--glass); border: 1px solid var(--stroke); border-radius: 16px; padding: 8px 10px; backdrop-filter: blur(10px); box-shadow: 0 10px 22px rgba(0,0,0,0.35); }
.stat-label{ font-size:10px; opacity:0.78; }
.stat-value{ font-size:16px; font-weight:850; margin-top:2px; }

.hud-bottom{ display:grid; grid-template-columns: 1.1fr 0.9fr; gap: 10px; align-items:end; }
.panel{ background: var(--glass2); border: 1px solid var(--stroke); border-radius: 18px; padding: 10px; backdrop-filter: blur(10px); }
.panel-title{ font-size:11px; opacity:0.82; font-weight:750; margin-bottom:8px; }
.feed{ display:flex; flex-direction:column; gap:6px; max-height:160px; overflow:hidden; }
.feed-item{ display:flex; justify-content:space-between; align-items:center; gap:10px; padding: 7px 8px; border-radius: 12px; background: rgba(0,0,0,0.18); border: 1px solid rgba(255,255,255,0.07); }
.feed-left{ display:flex; align-items:center; gap:8px; min-width:0; }
.dot{ width:10px; height:10px; border-radius:999px; box-shadow:0 0 12px rgba(255,255,255,0.22); }
.feed-name{ font-size:11px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; max-width:130px; }
.feed-amt{ font-size:11px; font-weight:800; opacity:0.95; }

.controls{ pointer-events:auto; }
.btn{ width:100%; border:none; background: rgba(255,255,255,0.10); color: var(--text); padding: 10px; border-radius: 14px; font-weight: 800; cursor:pointer; border: 1px solid rgba(255,255,255,0.12); }
.btn:hover{ background: rgba(255,255,255,0.14); }
.btn:active{ transform: translateY(1px); }
.control-row{ display:grid; grid-template-columns: repeat(4, 1fr); gap: 8px; margin-top: 8px; }
.btn-small{ padding: 9px 8px; border-radius: 12px; font-weight: 850; }
.divider{ height: 1px; background: rgba(255,255,255,0.10); margin: 8px 0; }
.help{ margin-top: 8px; font-size: 10px; opacity: 0.72; line-height: 1.25; }

.hit{ position:absolute; inset:0; z-index: 3; pointer-events:auto; background: transparent; }

.winner{ position:absolute; inset:0; display:flex; align-items:center; justify-content:center; pointer-events:auto; }
.winner-card{ width: min(86%, 360px); background: rgba(10,12,18,0.85); border: 1px solid rgba(255,255,255,0.12); border-radius: 18px; padding: 14px; backdrop-filter: blur(10px); box-shadow: 0 18px 60px rgba(0,0,0,0.55); text-align:center; }
.winner-title{ font-weight: 900; letter-spacing: 1px; opacity:0.85; font-size: 12px; }
.winner-lane{ font-size: 20px; font-weight: 900; margin: 6px 0 10px; }

.footer-note{ width: min(92vw, 540px); font-size: 12px; opacity: 0.7; text-align:center; line-height:1.35; }
