<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Donat Drag Race — STREAM NEON SVG (XML)</title>
  <link rel="stylesheet" href="styles.css"/>
</head>
<body>
  <div class="stage" id="stage">
    <!-- SVG = XML UI/scene -->
    <svg id="scene" viewBox="0 0 1080 1920" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Neon drag racing scene">
      <defs>
        <!-- glows -->
        <filter id="glowXS" x="-50%" y="-50%" width="200%" height="200%">
          <feGaussianBlur stdDeviation="2.2" result="b"/>
          <feMerge><feMergeNode in="b"/><feMergeNode in="SourceGraphic"/></feMerge>
        </filter>
        <filter id="glowS" x="-60%" y="-60%" width="220%" height="220%">
          <feGaussianBlur stdDeviation="4.6" result="b"/>
          <feMerge><feMergeNode in="b"/><feMergeNode in="SourceGraphic"/></feMerge>
        </filter>
        <filter id="glowM" x="-80%" y="-80%" width="260%" height="260%">
          <feGaussianBlur stdDeviation="10" result="b"/>
          <feMerge><feMergeNode in="b"/><feMergeNode in="SourceGraphic"/></feMerge>
        </filter>
        <filter id="glowL" x="-120%" y="-120%" width="340%" height="340%">
          <feGaussianBlur stdDeviation="18" result="b"/>
          <feMerge><feMergeNode in="b"/><feMergeNode in="SourceGraphic"/></feMerge>
        </filter>

        <!-- sky -->
        <linearGradient id="sky" x1="0" y1="0" x2="0" y2="1">
          <stop offset="0" stop-color="#040612"/>
          <stop offset="0.55" stop-color="#06040f"/>
          <stop offset="1" stop-color="#040612"/>
        </linearGradient>
        <radialGradient id="hazeA" cx="55%" cy="18%" r="70%">
          <stop offset="0" stop-color="#3e6bff" stop-opacity="0.32"/>
          <stop offset="1" stop-color="#3e6bff" stop-opacity="0"/>
        </radialGradient>
        <radialGradient id="hazeB" cx="18%" cy="62%" r="70%">
          <stop offset="0" stop-color="#ff49c8" stop-opacity="0.23"/>
          <stop offset="1" stop-color="#ff49c8" stop-opacity="0"/>
        </radialGradient>
        <radialGradient id="hazeC" cx="82%" cy="62%" r="70%">
          <stop offset="0" stop-color="#ffb13d" stop-opacity="0.18"/>
          <stop offset="1" stop-color="#ffb13d" stop-opacity="0"/>
        </radialGradient>

        <!-- road -->
        <linearGradient id="asphalt" x1="0" y1="0" x2="0" y2="1">
          <stop offset="0" stop-color="#1a1c33" stop-opacity="0.95"/>
          <stop offset="0.6" stop-color="#0d0f1a" stop-opacity="0.98"/>
          <stop offset="1" stop-color="#070812" stop-opacity="0.99"/>
        </linearGradient>
        <linearGradient id="roadSheen" x1="0" y1="0" x2="1" y2="0">
          <stop offset="0" stop-color="#ffffff" stop-opacity="0.00"/>
          <stop offset="0.45" stop-color="#ffffff" stop-opacity="0.07"/>
          <stop offset="0.55" stop-color="#ffffff" stop-opacity="0.12"/>
          <stop offset="1" stop-color="#ffffff" stop-opacity="0.00"/>
        </linearGradient>

        <!-- neon edge stroke paint -->
        <linearGradient id="edgeNeon" x1="0" y1="0" x2="0" y2="1">
          <stop offset="0" stop-color="#7aa2ff" stop-opacity="0.55"/>
          <stop offset="0.5" stop-color="#ff4bd1" stop-opacity="0.22"/>
          <stop offset="1" stop-color="#36ff7a" stop-opacity="0.38"/>
        </linearGradient>

        <!-- car (more car-like, multi-layer) -->
        <g id="car3D">
          <!-- shadow -->
          <ellipse cx="0" cy="66" rx="74" ry="20" fill="#000" opacity="0.26"/>
          <!-- rear wing -->
          <path d="M-78 10 h36 q10 0 14 -10 l2 -10 h-68z" opacity="0.30"/>
          <!-- body -->
          <path d="M-86 36
                   Q-86 6 -60 -10
                   Q-30 -34 0 -36
                   Q30 -34 60 -10
                   Q86 6 86 36
                   Q86 62 70 72
                   Q44 88 0 90
                   Q-44 88 -70 72
                   Q-86 62 -86 36Z"/>
          <!-- hood highlight -->
          <path d="M-54 26 Q-22 -6 0 -8 Q22 -6 54 26 Q24 36 0 36 Q-24 36 -54 26Z" opacity="0.22"/>
          <!-- windshield -->
          <path d="M-40 14 Q0 -18 40 14 Q22 24 0 24 Q-22 24 -40 14Z" opacity="0.40"/>
          <!-- splitter -->
          <path d="M-66 66 Q0 88 66 66 Q48 96 0 102 Q-48 96 -66 66Z" opacity="0.22"/>
          <!-- wheels -->
          <g opacity="0.40">
            <circle cx="-62" cy="56" r="14"/>
            <circle cx="62" cy="56" r="14"/>
          </g>
          <g opacity="0.22">
            <circle cx="-62" cy="56" r="7"/>
            <circle cx="62" cy="56" r="7"/>
          </g>
        </g>

        <!-- flame sprite -->
        <radialGradient id="flameG" cx="50%" cy="40%" r="70%">
          <stop offset="0" stop-color="#ffffff" stop-opacity="0.95"/>
          <stop offset="0.35" stop-color="#ffef7a" stop-opacity="0.70"/>
          <stop offset="0.65" stop-color="#ff7a1a" stop-opacity="0.55"/>
          <stop offset="1" stop-color="#ff1b7a" stop-opacity="0.00"/>
        </radialGradient>

      </defs>

      <!-- Background -->
      <rect width="1080" height="1920" fill="url(#sky)"/>
      <rect width="1080" height="1920" fill="url(#hazeA)"/>
      <rect width="1080" height="1920" fill="url(#hazeB)"/>
      <rect width="1080" height="1920" fill="url(#hazeC)"/>

      <!-- stars -->
      <g opacity="0.35" filter="url(#glowXS)">
        <circle cx="120" cy="140" r="2" fill="#fff"/><circle cx="220" cy="200" r="1.6" fill="#fff"/>
        <circle cx="940" cy="160" r="2" fill="#fff"/><circle cx="820" cy="230" r="1.8" fill="#fff"/>
        <circle cx="520" cy="120" r="1.6" fill="#fff"/><circle cx="620" cy="210" r="1.2" fill="#fff"/>
      </g>

      <!-- deep skyline (parallax layers) -->
      <g id="cityBack" opacity="0.55">
        <g fill="#0a0b18">
          <rect x="40" y="200" width="150" height="580" rx="12"/>
          <rect x="220" y="260" width="190" height="520" rx="12"/>
          <rect x="440" y="170" width="160" height="610" rx="12"/>
          <rect x="630" y="240" width="250" height="540" rx="12"/>
          <rect x="910" y="220" width="130" height="560" rx="12"/>
        </g>
        <g fill="#7aa2ff" opacity="0.14" filter="url(#glowS)">
          <g>
            <rect x="80" y="260" width="12" height="12"/><rect x="108" y="260" width="12" height="12"/><rect x="136" y="260" width="12" height="12"/>
            <rect x="80" y="300" width="12" height="12"/><rect x="108" y="300" width="12" height="12"/><rect x="136" y="300" width="12" height="12"/>
            <rect x="80" y="340" width="12" height="12"/><rect x="108" y="340" width="12" height="12"/><rect x="136" y="340" width="12" height="12"/>
          </g>
        </g>
      </g>

      <g id="cityFront" opacity="0.72" transform="translate(0,40)">
        <g fill="#0e1022">
          <rect x="0" y="540" width="230" height="540" rx="12"/>
          <rect x="250" y="500" width="240" height="580" rx="12"/>
          <rect x="510" y="560" width="260" height="520" rx="12"/>
          <rect x="790" y="520" width="290" height="560" rx="12"/>
        </g>
        <g opacity="0.18" filter="url(#glowM)">
          <rect x="40" y="620" width="150" height="8" fill="#ff4bd1"/>
          <rect x="290" y="580" width="170" height="8" fill="#7aa2ff"/>
          <rect x="560" y="650" width="180" height="8" fill="#36ff7a"/>
          <rect x="820" y="610" width="210" height="8" fill="#ffcc33"/>
        </g>
      </g>

      <!-- Road -->
      <path id="road" d="M 400 260 L 680 260 L 1000 1680 L 80 1680 Z" fill="url(#asphalt)"/>
      <!-- road sheen -->
      <path d="M 430 300 L 650 300 L 920 1680 L 160 1680 Z" fill="url(#roadSheen)" opacity="0.35"/>

      <!-- neon edges (thick blur + crisp) -->
      <path id="edgeL" d="M 400 260 L 80 1680" stroke="url(#edgeNeon)" stroke-width="26" opacity="0.22" filter="url(#glowL)"/>
      <path id="edgeR" d="M 680 260 L 1000 1680" stroke="url(#edgeNeon)" stroke-width="26" opacity="0.22" filter="url(#glowL)"/>
      <path d="M 400 260 L 80 1680" stroke="rgba(255,255,255,0.12)" stroke-width="8" opacity="0.65" filter="url(#glowS)"/>
      <path d="M 680 260 L 1000 1680" stroke="rgba(255,255,255,0.12)" stroke-width="8" opacity="0.65" filter="url(#glowS)"/>

      <!-- lane lines + center glow -->
      <g id="laneLines" stroke="rgba(255,255,255,0.20)" stroke-linecap="round" fill="none" opacity="0.92"></g>
      <path d="M 540 260 L 540 1680" stroke="#7aa2ff" stroke-width="18" opacity="0.06" filter="url(#glowL)"/>

      <!-- finish -->
      <g id="finishBand"></g>

      <!-- FX groups -->
      <g id="trails" filter="url(#glowM)"></g>
      <g id="fx" filter="url(#glowM)"></g>
      <g id="cars" filter="url(#glowS)"></g>

      <!-- vignette -->
      <rect width="1080" height="1920" fill="black" opacity="0.18"/>
    </svg>

    <!-- Flash overlay (CSS) -->
    <div class="flash" id="flash"></div>

    <!-- Top donors strip -->
    <div class="topStrip" id="topStrip" aria-label="top donors strip">
      <div class="stripTitle">ТОП</div>
      <div class="stripList" id="stripList"></div>
    </div>

    <!-- Bottom info panel -->
    <div class="bottomInfo">
      <div class="miniStats">
        <div class="pill"><span class="k">Банк</span><span class="v" id="bankValue">0</span></div>
        <div class="pill"><span class="k">Раунд</span><span class="v" id="roundValue">01</span></div>
        <div class="pill"><span class="k">Время</span><span class="v" id="timeValue">60</span></div>
      </div>

      <div class="feedWrap">
        <div class="feedTitle">Оповещения донатов</div>
        <div class="feed" id="feed"></div>
      </div>

      <div class="winsWrap">
        <div class="feedTitle">Победы</div>
        <div class="winsRow">
          <div class="pill big"><span class="k">Всего</span><span class="v" id="winsTotal">0</span></div>
          <div class="winsMini" id="winsMini"></div>
        </div>
      </div>
    </div>

    <!-- Winner modal -->
    <div class="winnerOverlay" id="winner" hidden>
      <div class="winnerCard">
        <div class="winnerTitle">ПОБЕДИТЕЛЬ</div>
        <div class="winnerLane" id="winnerLane">Полоса 1</div>
        <button class="btn" id="btnNext">Следующий раунд</button>
      </div>
    </div>

    <!-- Tap layer -->
    <div class="hit" id="hit" aria-label="tap to donate lane"></div>
  </div>

  <script src="app.js"></script>
</body>
</html>
